{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","components/PostList/PostList.js","components/PostList/PostListWithHooks.js","components/PostList/WithPosts.js","components/PostList/WithComments.js","components/PostList/PostListWithHOC.js","components/PostList/PostsFetcher.js","components/PostList/CommentSubscriber.js","views/ReusableStateView.js"],"names":["_getPrototypeOf","o","Object","setPrototypeOf","getPrototypeOf","__proto__","_typeof2","obj","Symbol","iterator","constructor","prototype","_typeof","_possibleConstructorReturn","self","call","ReferenceError","_setPrototypeOf","p","_inherits","subClass","superClass","TypeError","create","value","writable","configurable","toggleReducer","state","next","Post","id","title","body","isOpen","comments","onChange","key","className","onClick","length","map","email","PostList","posts","useReducer","selectedPost","selectPost","post","filter","postId","PostListWithHooks","usePosts","loading","error","useComments","WithPosts","WrappedComponent","this","setState","Api","getPosts","then","catch","props","Component","WithComments","addComment","comment","subscribeComments","unsubscribeComments","compose","ReducerView","CodeBlock","fileName","text"],"mappings":"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","file":"static/js/11.031a9634.chunk.js","sourcesContent":["export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import React, { useReducer } from 'react';\n\nconst BASE_CLASS = 'post-list';\n\nconst toggleReducer = (state, next) => (state === next ? null : next);\n\nconst PostList = ({ posts, comments }) => {\n    const [selectedPost, selectPost] = useReducer(toggleReducer);\n\n    return (\n        <div className={`${BASE_CLASS}-wrapper`}>\n            <ul className={BASE_CLASS}>\n                {(posts || []).map(post => (\n                    <Post\n                        {...post}\n                        key={post.id}\n                        isOpen={post.id === selectedPost}\n                        onChange={selectPost}\n                        comments={comments.filter(\n                            ({ postId }) => postId === post.id\n                        )}\n                    />\n                ))}\n            </ul>\n        </div>\n    );\n};\n\nconst Post = ({ id, title, body, isOpen, comments, onChange }) => (\n    <li key={id} className={`${BASE_CLASS}-item ${isOpen ? 'open' : ''}`}>\n        <h2\n            className={`${BASE_CLASS}-item-header`}\n            onClick={() => onChange(id)}>\n            {title}\n        </h2>\n\n        <legend className={`${BASE_CLASS}-item-legend`}>\n            Comments: {comments.length}\n        </legend>\n\n        <section className={`${BASE_CLASS}-item-body`}>{body}</section>\n\n        {comments.map(({ id, email, body }) => (\n            <section key={id} className={`${BASE_CLASS}-item-comment`}>\n                {email}: {body}}\n            </section>\n        ))}\n    </li>\n);\n\nexport default PostList;\n","import React from 'react';\n\nimport PostList from './PostList';\nimport { usePosts, useComments } from 'hooks';\n\nconst PostListWithHooks = () => {\n    const { posts, loading, error } = usePosts();\n    const comments = useComments();\n\n    if (loading) {\n        return <h1>Loading</h1>;\n    } else if (error) {\n        return <h1>Error</h1>;\n    }\n\n    return <PostList posts={posts} comments={comments} />;\n};\n\nexport default PostListWithHooks;\n","import React, { Component } from 'react';\n\nimport Api from 'api';\n\nconst WithPosts = WrappedComponent =>\n    class PostsHOC extends Component {\n        state = {\n            posts: [],\n            loading: false,\n            error: false,\n        };\n\n        componentDidMount() {\n            this.setState({ loading: true });\n\n            Api.getPosts()\n                .then(posts => this.setState({ posts, loading: false }))\n                .catch(() => this.setState({ error: true }));\n        }\n\n        render() {\n            return <WrappedComponent {...this.state} {...this.props} />;\n        }\n    };\n\nexport default WithPosts;\n","import React, { Component } from 'react';\n\nimport Api from 'api';\n\nconst WithComments = WrappedComponent =>\n    class CommentsHOC extends Component {\n        state = { comments: [] };\n\n        addComment = comment =>\n            this.setState(({ comments }) => ({\n                comments: [...comments, comment],\n            }));\n\n        componentDidMount() {\n            Api.subscribeComments(this.addComment);\n        }\n\n        componentWillUnmount() {\n            Api.unsubscribeComments(this.addComment);\n        }\n\n        render() {\n            return <WrappedComponent {...this.state} {...this.props} />;\n        }\n    };\n\nexport default WithComments;\n","import React from 'react';\n\nimport PostList from './PostList';\nimport WithPosts from './WithPosts';\nimport WithComments from './WithComments';\nimport { compose } from 'utils';\n\nconst PostListWithHOC = ({ posts, loading, error, comments }) => {\n    if (loading) {\n        return <h1>Loading</h1>;\n    } else if (error) {\n        return <h1>Error</h1>;\n    }\n\n    return <PostList posts={posts} comments={comments} />;\n};\n\n// prettier-ignore\nexport default compose(WithPosts, WithComments)(PostListWithHOC);\n","import { Component } from 'react';\n\nimport Api from 'api';\n\nclass PostsFetcher extends Component {\n    state = {\n        posts: [],\n        loading: false,\n        error: false,\n    };\n\n    componentDidMount() {\n        this.setState({ loading: true });\n\n        Api.getPosts()\n            .then(posts => this.setState({ posts, loading: false }))\n            .catch(() => this.setState({ error: true }));\n    }\n\n    render() {\n        return this.props.children({ ...this.state, ...this.props });\n    }\n}\n\nexport default PostsFetcher;\n","import { Component } from 'react';\n\nimport Api from 'api';\n\nclass CommentSubscriber extends Component {\n    state = { comments: [] };\n\n    addComment = comment =>\n        this.setState(({ comments }) => ({\n            comments: [...comments, comment],\n        }));\n\n    componentDidMount() {\n        Api.subscribeComments(this.addComment);\n    }\n\n    componentWillUnmount() {\n        Api.unsubscribeComments(this.addComment);\n    }\n\n    render() {\n        return this.props.children({ ...this.state, ...this.props });\n    }\n}\n\nexport default CommentSubscriber;\n","import React from 'react';\n\nimport { PostListWithHooks } from 'components/PostList';\nimport { CodeBlockButton } from 'components/CodeBlock';\n\nconst ReducerView = () => (\n    <>\n        <PostListWithHooks />\n\n        <h2>Render Props</h2>\n        <CodeBlockButton\n            fileName='components/PostList/PostsFetcher.js'\n            text='PostsFetcher.js'\n        />\n        <CodeBlockButton\n            fileName='components/PostList/CommentSubscriber.js'\n            text='CommentSubscriber.js'\n        />\n        <CodeBlockButton\n            fileName='components/PostList/PostsListWithRenderProps.js'\n            text='PostsListWithRenderProps.js'\n        />\n\n        <h2>HOC</h2>\n        <CodeBlockButton\n            fileName='components/PostList/WithPosts.js'\n            text='WithPosts.js'\n        />\n        <CodeBlockButton\n            fileName='components/PostList/WithComments.js'\n            text='WithComments.js'\n        />\n        <CodeBlockButton\n            fileName='components/PostList/PostListWithHOC.js'\n            text='PostListWithHOC.js'\n        />\n\n        <h2>Hooks</h2>\n        <CodeBlockButton fileName='hooks/usePosts.js' text='usePosts.js' />\n        <CodeBlockButton\n            fileName='hooks/useComments.js'\n            text='useComments.js'\n        />\n        <CodeBlockButton\n            fileName='components/PostList/PostListWithHooks.js'\n            text='PostListWithHooks.js'\n        />\n        <div>\n            <CodeBlockButton fileName='api/Api.js' text='Api.js' />\n        </div>\n    </>\n);\n\nexport default ReducerView;\n"],"sourceRoot":""}