{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","components/PostList/PostList.js","components/PostList/PostListWithHooks.js","components/PostList/WithPosts.js","components/PostList/WithComments.js","components/PostList/PostListWithHOC.js","components/PostList/PostsFetcher.js","components/PostList/CommentSubscriber.js","views/ReusableStateView.js"],"names":["_getPrototypeOf","o","Object","setPrototypeOf","getPrototypeOf","__proto__","__webpack_require__","d","__webpack_exports__","_typeof2","obj","Symbol","iterator","constructor","prototype","_typeof","_possibleConstructorReturn","self","call","ReferenceError","_assertThisInitialized","_setPrototypeOf","p","_inherits","subClass","superClass","TypeError","create","value","writable","configurable","toggleReducer","state","next","Post","_ref3","id","title","body","isOpen","comments","onChange","react_default","a","createElement","key","className","concat","onClick","length","map","_ref4","email","PostList","_ref","posts","_useReducer","useReducer","_useReducer2","slicedToArray","selectedPost","selectPost","post","PostList_Post","assign","filter","_ref2","postId","PostListWithHooks","_usePosts","usePosts","loading","error","useComments","components_PostList_PostList","WithPosts","WrappedComponent","_Component","PostsHOC","_getPrototypeOf2","_this","classCallCheck","this","_len","arguments","args","Array","_key","possibleConstructorReturn","apply","inherits","createClass","_this2","setState","Api","getPosts","then","catch","props","Component","WithComments","CommentsHOC","addComment","comment","toConsumableArray","subscribeComments","unsubscribeComments","compose","ReducerView","Fragment","PostList_PostListWithHooks","CodeBlock","fileName","text"],"mappings":"2FAAe,SAAAA,EAAAC,GAIf,OAHAD,EAAAE,OAAAC,eAAAD,OAAAE,eAAA,SAAAH,GACA,OAAAA,EAAAI,WAAAH,OAAAE,eAAAH,KAEAA,GAJAK,EAAAC,EAAAC,EAAA,sBAAAR,sCCAA,SAAAS,EAAAC,GAA6U,OAA1OD,EAA3E,oBAAAE,QAAA,kBAAAA,OAAAC,SAA2E,SAAAF,GAAoC,cAAAA,GAA+B,SAAAA,GAAoC,OAAAA,GAAA,oBAAAC,QAAAD,EAAAG,cAAAF,QAAAD,IAAAC,OAAAG,UAAA,gBAAAJ,IAAmIA,GAE9T,SAAAK,EAAAL,GAWf,OATAK,EADA,oBAAAJ,QAAA,WAAAF,EAAAE,OAAAC,UACA,SAAAF,GACA,OAAAD,EAAAC,IAGA,SAAAA,GACA,OAAAA,GAAA,oBAAAC,QAAAD,EAAAG,cAAAF,QAAAD,IAAAC,OAAAG,UAAA,SAAAL,EAAAC,KAIAA,GCXe,SAAAM,EAAAC,EAAAC,GACf,OAAAA,GAAsB,WAAPH,EAAOG,IAAA,oBAAAA,ECHP,SAAAD,GACf,YAAAA,EACA,UAAAE,eAAA,6DAGA,OAAAF,EDESG,CAAqBH,GAH9BC,EAJAZ,EAAAC,EAAAC,EAAA,sBAAAQ,sCEAe,SAAAK,EAAApB,EAAAqB,GAMf,OALAD,EAAAnB,OAAAC,gBAAA,SAAAF,EAAAqB,GAEA,OADArB,EAAAI,UAAAiB,EACArB,IAGAA,EAAAqB,GCLe,SAAAC,EAAAC,EAAAC,GACf,uBAAAA,GAAA,OAAAA,EACA,UAAAC,UAAA,sDAGAF,EAAAV,UAAAZ,OAAAyB,OAAAF,KAAAX,UAAA,CACAD,YAAA,CACAe,MAAAJ,EACAK,UAAA,EACAC,cAAA,KAGAL,GAAkBJ,EAAcG,EAAAC,GAbhCnB,EAAAC,EAAAC,EAAA,sBAAAe,wECIMQ,EAAgB,SAACC,EAAOC,GAAR,OAAkBD,IAAUC,EAAO,KAAOA,GAwB1DC,EAAO,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,GAAIC,EAAPF,EAAOE,MAAOC,EAAdH,EAAcG,KAAMC,EAApBJ,EAAoBI,OAAQC,EAA5BL,EAA4BK,SAAUC,EAAtCN,EAAsCM,SAAtC,OACTC,EAAAC,EAAAC,cAAA,MAAIC,IAAKT,EAAIU,UAAS,GAAAC,OA3BP,YA2BO,UAAAA,OAAwBR,EAAS,OAAS,KAC5DG,EAAAC,EAAAC,cAAA,MACIE,UAAS,GAAAC,OA7BF,YA6BE,gBACTC,QAAS,kBAAMP,EAASL,KACvBC,GAGLK,EAAAC,EAAAC,cAAA,UAAQE,UAAS,GAAAC,OAlCN,YAkCM,iBAAjB,aACeP,EAASS,QAGxBP,EAAAC,EAAAC,cAAA,WAASE,UAAS,GAAAC,OAtCP,YAsCO,eAA8BT,GAE/CE,EAASU,IAAI,SAAAC,GAAA,IAAGf,EAAHe,EAAGf,GAAIgB,EAAPD,EAAOC,MAAOd,EAAda,EAAcb,KAAd,OACVI,EAAAC,EAAAC,cAAA,WAASC,IAAKT,EAAIU,UAAS,GAAAC,OAzCpB,YAyCoB,kBACtBK,EADL,KACcd,EADd,SAOGe,EA5CE,SAAAC,GAAyB,IAAtBC,EAAsBD,EAAtBC,MAAOf,EAAec,EAAfd,SAAegB,EACHC,qBAAW1B,GADR2B,EAAAxD,OAAAyD,EAAA,EAAAzD,CAAAsD,EAAA,GAC/BI,EAD+BF,EAAA,GACjBG,EADiBH,EAAA,GAGtC,OACIhB,EAAAC,EAAAC,cAAA,OAAKE,UAAS,GAAAC,OARH,YAQG,aACVL,EAAAC,EAAAC,cAAA,MAAIE,UATG,cAUDS,GAAS,IAAIL,IAAI,SAAAY,GAAI,OACnBpB,EAAAC,EAAAC,cAACmB,EAAD7D,OAAA8D,OAAA,GACQF,EADR,CAEIjB,IAAKiB,EAAK1B,GACVG,OAAQuB,EAAK1B,KAAOwB,EACpBnB,SAAUoB,EACVrB,SAAUA,EAASyB,OACf,SAAAC,GAAA,OAAAA,EAAGC,SAAwBL,EAAK1B,qBCD7CgC,EAbW,WAAM,IAAAC,EACMC,cAA1Bf,EADoBc,EACpBd,MAAOgB,EADaF,EACbE,QAASC,EADIH,EACJG,MAClBhC,EAAWiC,cAEjB,OAAIF,EACO7B,EAAAC,EAAAC,cAAA,qBACA4B,EACA9B,EAAAC,EAAAC,cAAA,mBAGJF,EAAAC,EAAAC,cAAC8B,EAAD,CAAUnB,MAAOA,EAAOf,SAAUA,uDCU9BmC,EArBG,SAAAC,GAAgB,gBAAAC,GAAA,SAAAC,IAAA,IAAAC,EAAAC,EAAA9E,OAAA+E,EAAA,EAAA/E,CAAAgF,KAAAJ,GAAA,QAAAK,EAAAC,UAAAnC,OAAAoC,EAAA,IAAAC,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAAAF,EAAAE,GAAAH,UAAAG,GAAA,OAAAP,EAAA9E,OAAAsF,EAAA,EAAAtF,CAAAgF,MAAAH,EAAA7E,OAAAE,EAAA,EAAAF,CAAA4E,IAAA5D,KAAAuE,MAAAV,EAAA,CAAAG,MAAAnC,OAAAsC,MAE1BrD,MAAQ,CACJuB,MAAO,GACPgB,SAAS,EACTC,OAAO,GALeQ,EAAA,OAAA9E,OAAAwF,EAAA,EAAAxF,CAAA4E,EAAAD,GAAA3E,OAAAyF,EAAA,EAAAzF,CAAA4E,EAAA,EAAAjC,IAAA,oBAAAjB,MAAA,WAQN,IAAAgE,EAAAV,KAChBA,KAAKW,SAAS,CAAEtB,SAAS,IAEzBuB,IAAIC,WACCC,KAAK,SAAAzC,GAAK,OAAIqC,EAAKC,SAAS,CAAEtC,QAAOgB,SAAS,MAC9C0B,MAAM,kBAAML,EAAKC,SAAS,CAAErB,OAAO,QAblB,CAAA3B,IAAA,SAAAjB,MAAA,WAiBtB,OAAOc,EAAAC,EAAAC,cAACgC,EAAD1E,OAAA8D,OAAA,GAAsBkB,KAAKlD,MAAWkD,KAAKgB,YAjB5BpB,EAAA,CACPqB,sBCqBZC,EAtBM,SAAAxB,GAAgB,gBAAAC,GAAA,SAAAwB,IAAA,IAAAtB,EAAAC,EAAA9E,OAAA+E,EAAA,EAAA/E,CAAAgF,KAAAmB,GAAA,QAAAlB,EAAAC,UAAAnC,OAAAoC,EAAA,IAAAC,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAAAF,EAAAE,GAAAH,UAAAG,GAAA,OAAAP,EAAA9E,OAAAsF,EAAA,EAAAtF,CAAAgF,MAAAH,EAAA7E,OAAAE,EAAA,EAAAF,CAAAmG,IAAAnF,KAAAuE,MAAAV,EAAA,CAAAG,MAAAnC,OAAAsC,MAE7BrD,MAAQ,CAAEQ,SAAU,IAFSwC,EAI7BsB,WAAa,SAAAC,GAAO,OAChBvB,EAAKa,SAAS,SAAAvC,GAAA,IAAGd,EAAHc,EAAGd,SAAH,MAAmB,CAC7BA,SAAQ,GAAAO,OAAA7C,OAAAsG,EAAA,EAAAtG,CAAMsC,GAAN,CAAgB+D,QANHvB,EAAA,OAAA9E,OAAAwF,EAAA,EAAAxF,CAAAmG,EAAAxB,GAAA3E,OAAAyF,EAAA,EAAAzF,CAAAmG,EAAA,EAAAxD,IAAA,oBAAAjB,MAAA,WAUzBkE,IAAIW,kBAAkBvB,KAAKoB,cAVF,CAAAzD,IAAA,uBAAAjB,MAAA,WAczBkE,IAAIY,oBAAoBxB,KAAKoB,cAdJ,CAAAzD,IAAA,SAAAjB,MAAA,WAkBzB,OAAOc,EAAAC,EAAAC,cAACgC,EAAD1E,OAAA8D,OAAA,GAAsBkB,KAAKlD,MAAWkD,KAAKgB,YAlBzBG,EAAA,CACPF,yBCafQ,YAAQhC,EAAWyB,EAAnBO,CAXS,SAAArD,GAAyC,IAAtCC,EAAsCD,EAAtCC,MAAOgB,EAA+BjB,EAA/BiB,QAASC,EAAsBlB,EAAtBkB,MAAOhC,EAAec,EAAfd,SAC9C,OAAI+B,EACO7B,EAAAC,EAAAC,cAAA,qBACA4B,EACA9B,EAAAC,EAAAC,cAAA,mBAGJF,EAAAC,EAAAC,cAAC8B,EAAD,CAAUnB,MAAOA,EAAOf,SAAUA,eCVlB2D,YCAKA,mBCiDjBS,UAhDK,kBAChBlE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkE,SAAA,KACInE,EAAAC,EAAAC,cAACkE,EAAD,MAEApE,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAACmE,EAAA,EAAD,CACIC,SAAS,sCACTC,KAAK,oBAETvE,EAAAC,EAAAC,cAACmE,EAAA,EAAD,CACIC,SAAS,2CACTC,KAAK,yBAETvE,EAAAC,EAAAC,cAACmE,EAAA,EAAD,CACIC,SAAS,kDACTC,KAAK,gCAGTvE,EAAAC,EAAAC,cAAA,iBACAF,EAAAC,EAAAC,cAACmE,EAAA,EAAD,CACIC,SAAS,mCACTC,KAAK,iBAETvE,EAAAC,EAAAC,cAACmE,EAAA,EAAD,CACIC,SAAS,sCACTC,KAAK,oBAETvE,EAAAC,EAAAC,cAACmE,EAAA,EAAD,CACIC,SAAS,yCACTC,KAAK,uBAGTvE,EAAAC,EAAAC,cAAA,mBACAF,EAAAC,EAAAC,cAACmE,EAAA,EAAD,CAAiBC,SAAS,oBAAoBC,KAAK,gBACnDvE,EAAAC,EAAAC,cAACmE,EAAA,EAAD,CACIC,SAAS,uBACTC,KAAK,mBAETvE,EAAAC,EAAAC,cAACmE,EAAA,EAAD,CACIC,SAAS,2CACTC,KAAK,yBAETvE,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACmE,EAAA,EAAD,CAAiBC,SAAS,aAAaC,KAAK","file":"static/js/11.2fb18e63.chunk.js","sourcesContent":["export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import React, { useReducer } from 'react';\n\nconst BASE_CLASS = 'post-list';\n\nconst toggleReducer = (state, next) => (state === next ? null : next);\n\nconst PostList = ({ posts, comments }) => {\n    const [selectedPost, selectPost] = useReducer(toggleReducer);\n\n    return (\n        <div className={`${BASE_CLASS}-wrapper`}>\n            <ul className={BASE_CLASS}>\n                {(posts || []).map(post => (\n                    <Post\n                        {...post}\n                        key={post.id}\n                        isOpen={post.id === selectedPost}\n                        onChange={selectPost}\n                        comments={comments.filter(\n                            ({ postId }) => postId === post.id\n                        )}\n                    />\n                ))}\n            </ul>\n        </div>\n    );\n};\n\nconst Post = ({ id, title, body, isOpen, comments, onChange }) => (\n    <li key={id} className={`${BASE_CLASS}-item ${isOpen ? 'open' : ''}`}>\n        <h2\n            className={`${BASE_CLASS}-item-header`}\n            onClick={() => onChange(id)}>\n            {title}\n        </h2>\n\n        <legend className={`${BASE_CLASS}-item-legend`}>\n            Comments: {comments.length}\n        </legend>\n\n        <section className={`${BASE_CLASS}-item-body`}>{body}</section>\n\n        {comments.map(({ id, email, body }) => (\n            <section key={id} className={`${BASE_CLASS}-item-comment`}>\n                {email}: {body}}\n            </section>\n        ))}\n    </li>\n);\n\nexport default PostList;\n","import React from 'react';\n\nimport PostList from './PostList';\nimport { usePosts, useComments } from 'hooks';\n\nconst PostListWithHooks = () => {\n    const { posts, loading, error } = usePosts();\n    const comments = useComments();\n\n    if (loading) {\n        return <h1>Loading</h1>;\n    } else if (error) {\n        return <h1>Error</h1>;\n    }\n\n    return <PostList posts={posts} comments={comments} />;\n};\n\nexport default PostListWithHooks;\n","import React, { Component } from 'react';\n\nimport Api from 'api';\n\nconst WithPosts = WrappedComponent =>\n    class PostsHOC extends Component {\n        state = {\n            posts: [],\n            loading: false,\n            error: false,\n        };\n\n        componentDidMount() {\n            this.setState({ loading: true });\n\n            Api.getPosts()\n                .then(posts => this.setState({ posts, loading: false }))\n                .catch(() => this.setState({ error: true }));\n        }\n\n        render() {\n            return <WrappedComponent {...this.state} {...this.props} />;\n        }\n    };\n\nexport default WithPosts;\n","import React, { Component } from 'react';\n\nimport Api from 'api';\n\nconst WithComments = WrappedComponent =>\n    class CommentsHOC extends Component {\n        state = { comments: [] };\n\n        addComment = comment =>\n            this.setState(({ comments }) => ({\n                comments: [...comments, comment],\n            }));\n\n        componentDidMount() {\n            Api.subscribeComments(this.addComment);\n        }\n\n        componentWillUnmount() {\n            Api.unsubscribeComments(this.addComment);\n        }\n\n        render() {\n            return <WrappedComponent {...this.state} {...this.props} />;\n        }\n    };\n\nexport default WithComments;\n","import React from 'react';\n\nimport PostList from './PostList';\nimport WithPosts from './WithPosts';\nimport WithComments from './WithComments';\nimport { compose } from 'utils';\n\nconst PostListWithHOC = ({ posts, loading, error, comments }) => {\n    if (loading) {\n        return <h1>Loading</h1>;\n    } else if (error) {\n        return <h1>Error</h1>;\n    }\n\n    return <PostList posts={posts} comments={comments} />;\n};\n\n// prettier-ignore\nexport default compose(WithPosts, WithComments)(PostListWithHOC);\n","import { Component } from 'react';\n\nimport Api from 'api';\n\nclass PostsFetcher extends Component {\n    state = {\n        posts: [],\n        loading: false,\n        error: false,\n    };\n\n    componentDidMount() {\n        this.setState({ loading: true });\n\n        Api.getPosts()\n            .then(posts => this.setState({ posts, loading: false }))\n            .catch(() => this.setState({ error: true }));\n    }\n\n    render() {\n        return this.props.children({ ...this.state, ...this.props });\n    }\n}\n\nexport default PostsFetcher;\n","import { Component } from 'react';\n\nimport Api from 'api';\n\nclass CommentSubscriber extends Component {\n    state = { comments: [] };\n\n    addComment = comment =>\n        this.setState(({ comments }) => ({\n            comments: [...comments, comment],\n        }));\n\n    componentDidMount() {\n        Api.subscribeComments(this.addComment);\n    }\n\n    componentWillUnmount() {\n        Api.unsubscribeComments(this.addComment);\n    }\n\n    render() {\n        return this.props.children({ ...this.state, ...this.props });\n    }\n}\n\nexport default CommentSubscriber;\n","import React from 'react';\n\nimport { PostListWithHooks } from 'components/PostList';\nimport { CodeBlockButton } from 'components/CodeBlock';\n\nconst ReducerView = () => (\n    <>\n        <PostListWithHooks />\n\n        <h2>Render Props</h2>\n        <CodeBlockButton\n            fileName='components/PostList/PostsFetcher.js'\n            text='PostsFetcher.js'\n        />\n        <CodeBlockButton\n            fileName='components/PostList/CommentSubscriber.js'\n            text='CommentSubscriber.js'\n        />\n        <CodeBlockButton\n            fileName='components/PostList/PostsListWithRenderProps.js'\n            text='PostsListWithRenderProps.js'\n        />\n\n        <h2>HOC</h2>\n        <CodeBlockButton\n            fileName='components/PostList/WithPosts.js'\n            text='WithPosts.js'\n        />\n        <CodeBlockButton\n            fileName='components/PostList/WithComments.js'\n            text='WithComments.js'\n        />\n        <CodeBlockButton\n            fileName='components/PostList/PostListWithHOC.js'\n            text='PostListWithHOC.js'\n        />\n\n        <h2>Hooks</h2>\n        <CodeBlockButton fileName='hooks/usePosts.js' text='usePosts.js' />\n        <CodeBlockButton\n            fileName='hooks/useComments.js'\n            text='useComments.js'\n        />\n        <CodeBlockButton\n            fileName='components/PostList/PostListWithHooks.js'\n            text='PostListWithHooks.js'\n        />\n        <div>\n            <CodeBlockButton fileName='api/Api.js' text='Api.js' />\n        </div>\n    </>\n);\n\nexport default ReducerView;\n"],"sourceRoot":""}