{"version":3,"sources":["components/Stringify/Stringify.js","components/Stringify/index.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","components/Form/Form.js","components/Form/FormPresentational.js","components/Form/FormContainer.js","views/IsolatedStateView.js"],"names":["Stringify","_ref","children","indent","className","react_default","a","createElement","concat","JSON","stringify","__webpack_require__","d","__webpack_exports__","components_Stringify_Stringify","_getPrototypeOf","o","Object","setPrototypeOf","getPrototypeOf","__proto__","_typeof2","obj","Symbol","iterator","constructor","prototype","_typeof","_possibleConstructorReturn","self","call","ReferenceError","_assertThisInitialized","_setPrototypeOf","p","_inherits","subClass","superClass","TypeError","create","value","writable","configurable","UserSelect","_ref2","onChange","selectedUser","users","Fragment","htmlFor","id","map","_ref3","name","key","PostList","_ref4","title","body","isOpen","comments","classNames","onClick","target","length","_ref5","email","CommentInput","_ref6","onSubmit","isSending","error","type","invalid","disabled","Form","onUserChange","Form_UserSelect","FormPresentational","onPostChange","onCommentChange","selectedPost","comment","posts","isLoading","components_Form_Form","filter","userId","toString","post","Form_PostList","assign","postId","Form_CommentInput","resetCommentAndError","FormContainer","state","_this","setState","objectSpread","prev","onCommentsUpdate","toConsumableArray","e","preventDefault","_this$state","formDdata","user","Api","postForm","then","alert","subscribeComments","this","Promise","all","getUsers","getPosts","unsubscribeComments","_this$state2","Form_FormPresentational","Component","FormView","CodeBlock","fileName","text","Form_FormContainer"],"mappings":"8GAQeA,EANG,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,SAAUC,EAAbF,EAAaE,OAAQC,EAArBH,EAAqBG,UAArB,OACdC,EAAAC,EAAAC,cAAA,OAAKH,UAAS,aAAAI,OAAeJ,GAAa,KACrCK,KAAKC,UAAUR,EAAU,KAAMC,KCJxCQ,EAAAC,EAAAC,EAAA,sBAAAC,sCCAe,SAAAC,EAAAC,GAIf,OAHAD,EAAAE,OAAAC,eAAAD,OAAAE,eAAA,SAAAH,GACA,OAAAA,EAAAI,WAAAH,OAAAE,eAAAH,KAEAA,GAJAL,EAAAC,EAAAC,EAAA,sBAAAE,sCCAA,SAAAM,EAAAC,GAA6U,OAA1OD,EAA3E,oBAAAE,QAAA,kBAAAA,OAAAC,SAA2E,SAAAF,GAAoC,cAAAA,GAA+B,SAAAA,GAAoC,OAAAA,GAAA,oBAAAC,QAAAD,EAAAG,cAAAF,QAAAD,IAAAC,OAAAG,UAAA,gBAAAJ,IAAmIA,GAE9T,SAAAK,EAAAL,GAWf,OATAK,EADA,oBAAAJ,QAAA,WAAAF,EAAAE,OAAAC,UACA,SAAAF,GACA,OAAAD,EAAAC,IAGA,SAAAA,GACA,OAAAA,GAAA,oBAAAC,QAAAD,EAAAG,cAAAF,QAAAD,IAAAC,OAAAG,UAAA,SAAAL,EAAAC,KAIAA,GCXe,SAAAM,EAAAC,EAAAC,GACf,OAAAA,GAAsB,WAAPH,EAAOG,IAAA,oBAAAA,ECHP,SAAAD,GACf,YAAAA,EACA,UAAAE,eAAA,6DAGA,OAAAF,EDESG,CAAqBH,GAH9BC,EAJAnB,EAAAC,EAAAC,EAAA,sBAAAe,sCEAe,SAAAK,EAAAjB,EAAAkB,GAMf,OALAD,EAAAhB,OAAAC,gBAAA,SAAAF,EAAAkB,GAEA,OADAlB,EAAAI,UAAAc,EACAlB,IAGAA,EAAAkB,GCLe,SAAAC,EAAAC,EAAAC,GACf,uBAAAA,GAAA,OAAAA,EACA,UAAAC,UAAA,sDAGAF,EAAAV,UAAAT,OAAAsB,OAAAF,KAAAX,UAAA,CACAD,YAAA,CACAe,MAAAJ,EACAK,UAAA,EACAC,cAAA,KAGAL,GAAkBJ,EAAcG,EAAAC,GAbhC1B,EAAAC,EAAAC,EAAA,sBAAAsB,oLC4BMQ,EAAa,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,SAAUC,EAAbF,EAAaE,aAAcC,EAA3BH,EAA2BG,MAA3B,OACf1C,EAAAC,EAAAC,cAAAF,EAAAC,EAAA0C,SAAA,KACI3C,EAAAC,EAAAC,cAAA,SAAO0C,QAAQ,OAAO7C,UAAS,GAAAI,OA3BpB,OA2BoB,kBAA/B,QAGAH,EAAAC,EAAAC,cAAA,UACI2C,GAAG,OACH9C,UAAS,GAAAI,OAhCF,OAgCE,WACTqC,SAAUA,IACRC,GAAgBzC,EAAAC,EAAAC,cAAA,mCAEjBwC,EAAMI,IAAI,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,KAAMH,EAATE,EAASF,GAAT,OACP7C,EAAAC,EAAAC,cAAA,UAAQ+C,IAAKJ,EAAIV,MAAOU,GACnBG,QAOfE,EAAW,SAAAC,GAAA,IACbN,EADaM,EACbN,GACAO,EAFaD,EAEbC,MACAC,EAHaF,EAGbE,KACAC,EAJaH,EAIbG,OACAC,EALaJ,EAKbI,SACAf,EANaW,EAMbX,SACA3C,EAPasD,EAObtD,SAPa,OASbG,EAAAC,EAAAC,cAAAF,EAAAC,EAAA0C,SAAA,KACI3C,EAAAC,EAAAC,cAAA,MAAIH,UAAS,GAAAI,OAvDF,OAuDE,UACTH,EAAAC,EAAAC,cAAA,MACI+C,IAAKJ,EACL9C,UAAWyD,IAAU,GAAArD,OA1DlB,OA0DkB,cAEjBmD,GAAU,SAEdtD,EAAAC,EAAAC,cAAA,MACIH,UAAS,GAAAI,OA/DV,OA+DU,qBACTsD,QAAS,kBAAMjB,EAAS,CAAEkB,OAAQ,CAAEvB,MAAOU,OAC1CO,GAGLpD,EAAAC,EAAAC,cAAA,2BAAmBqD,EAASI,QAE5B3D,EAAAC,EAAAC,cAAA,WAASH,UAAS,GAAAI,OAtEf,OAsEe,oBACbkD,GAGJE,EAAST,IAAI,SAAAc,GAAA,IAAGf,EAAHe,EAAGf,GAAIgB,EAAPD,EAAOC,MAAOR,EAAdO,EAAcP,KAAd,OACVrD,EAAAC,EAAAC,cAAA,WACI+C,IAAKJ,EACL9C,UAAS,GAAAI,OA7Ed,OA6Ec,uBACR0D,EAHL,KAGcR,EAHd,SAQXxD,IAIHiE,EAAe,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,SAAUV,EAAbS,EAAaT,OAAQd,EAArBuB,EAAqBvB,SAAUyB,EAA/BF,EAA+BE,UAAWC,EAA1CH,EAA0CG,MAA1C,OACjBlE,EAAAC,EAAAC,cAAA,WACIH,UAAWyD,IAAU,GAAArD,OAzFV,OAyFU,0BAEjBmD,GAAU,SAEdtD,EAAAC,EAAAC,cAAA,SACIiE,KAAK,OACLpE,UAAS,GAAAI,OA/FF,OA+FE,kBACTiE,QAASF,EAAQ,OAAS,QAC1B1B,SAAUA,IAEb0B,EACDlE,EAAAC,EAAAC,cAAA,UACIiE,KAAK,SACLV,QAASO,EACTK,SAAUJ,EACVlE,UAAS,GAAAI,OAxGF,OAwGE,iBACR8D,EAAY,aAAe,YAKzBK,EA5GF,SAAA1E,GAAA,IAAG2E,EAAH3E,EAAG2E,aAAc9B,EAAjB7C,EAAiB6C,aAAcC,EAA/B9C,EAA+B8C,MAAO7C,EAAtCD,EAAsCC,SAAtC,OACTG,EAAAC,EAAAC,cAAA,OAAKH,UAAS,GAAAI,OAHC,OAGD,aACVH,EAAAC,EAAAC,cAAA,QAAMH,UAJK,QAKPC,EAAAC,EAAAC,cAACsE,EAAD,CACIhC,SAAU+B,EACV9B,aAAcA,EACdC,MAAOA,IAGVD,GACGzC,EAAAC,EAAAC,cAAAF,EAAAC,EAAA0C,SAAA,KACI3C,EAAAC,EAAAC,cAAA,SACI0C,QAAQ,QACR7C,UAAS,GAAAI,OAfd,OAec,kBAFb,SAKCN,MCgDN4E,EAhEY,SAAA7E,GAcrB,IAbF2E,EAaE3E,EAbF2E,aACAG,EAYE9E,EAZF8E,aACAC,EAWE/E,EAXF+E,gBACAX,EAUEpE,EAVFoE,SACAvB,EASE7C,EATF6C,aACAmC,EAQEhF,EARFgF,aACAC,EAOEjF,EAPFiF,QACAX,EAMEtE,EANFsE,MACAxB,EAKE9C,EALF8C,MACAoC,EAIElF,EAJFkF,MACAvB,EAGE3D,EAHF2D,SACAwB,EAEEnF,EAFFmF,UACAd,EACErE,EADFqE,UAEA,OAAIc,EACO/E,EAAAC,EAAAC,cAAA,OAAKH,UAAU,iBAAf,cAIPC,EAAAC,EAAAC,cAAAF,EAAAC,EAAA0C,SAAA,KACI3C,EAAAC,EAAAC,cAAC8E,EAAD,CACIT,aAAcA,EACd9B,aAAcA,EACdC,MAAOA,GACNoC,EACIG,OAAO,SAAA1C,GAAA,OAAAA,EAAG2C,OAAoBC,aAAe1C,IAC7CK,IAAI,SAAAsC,GAAI,OACLpF,EAAAC,EAAAC,cAACmF,EAADzE,OAAA0E,OAAA,GACQF,EADR,CAEInC,IAAKmC,EAAKvC,GACVS,OAAQ8B,EAAKvC,KAAO+B,EACpBpC,SAAUkC,EACVnB,SAAUA,EAAS0B,OACf,SAAAlC,GAAA,OAAAA,EAAGwC,SAAwBH,EAAKvC,OAEpC7C,EAAAC,EAAAC,cAACsF,EAAD,CACIxB,SAAUA,EACVE,MAAOA,EACP1B,SAAUmC,EACVrB,OAAQ8B,EAAKvC,KAAO+B,EACpBX,UAAWA,QAM/BjE,EAAAC,EAAAC,cAACP,EAAA,EAAD,CAAWG,OAAQ,GACd,CACG2C,eACAmC,eACAC,UACAX,QACAxB,MAAK,SAAAvC,OAAWuC,EAAMiB,OAAjB,KACLmB,MAAK,SAAA3E,OAAW2E,EAAMnB,OAAjB,KACLJ,SAAQ,SAAApD,OAAWoD,EAASI,OAApB,KACRoB,YACAd,uBCzDdwB,EAAuB,CAAEZ,QAAS,KAAMX,MAAO,MA2GtCwB,6MAxGXC,MAAQ,CACJlD,aAAc,KACdmC,aAAc,KACdC,QAAS,KACTX,MAAO,KACPxB,MAAO,GACPoC,MAAO,GACPvB,SAAU,GACVwB,WAAW,EACXd,WAAW,KAGfM,aAAe,SAAA3E,GAAA,IAAauC,EAAbvC,EAAG8D,OAAUvB,MAAb,OACXyD,EAAKC,SAALjF,OAAAkF,EAAA,EAAAlF,CAAA,CAAgB6B,aAAcN,GAAUsD,OAE5Cf,aAAe,SAAAnC,GAAA,IAAaJ,EAAbI,EAAGmB,OAAUvB,MAAb,OACXyD,EAAKC,SAAS,SAAAE,GAAI,OAAAnF,OAAAkF,EAAA,EAAAlF,CAAA,CACdgE,aAAczC,IAAU4D,EAAKnB,aAAe,KAAOzC,GAChDsD,QAGXO,iBAAmB,SAAAnB,GAAO,OACtBe,EAAKC,SAAS,SAAA9C,GAAA,IAAGQ,EAAHR,EAAGQ,SAAH,MAAmB,CAAEA,SAAQ,GAAApD,OAAAS,OAAAqF,EAAA,EAAArF,CAAM2C,GAAN,CAAgBsB,UAE/DF,gBAAkB,SAAAxB,GAAA,IAAahB,EAAbgB,EAAGO,OAAUvB,MAAb,OACdyD,EAAKC,SAAS,CAAEhB,QAAS1C,EAAO+B,MAAO,UAE3CF,SAAW,SAAAkC,GACPA,EAAEC,iBADU,IAAAC,EAGoCR,EAAKD,MAA7ClD,EAHI2D,EAGJ3D,aAAcmC,EAHVwB,EAGUxB,aAAcC,EAHxBuB,EAGwBvB,QAEpC,GAAIA,EAAS,CACT,IAAMwB,EAAY,CACdC,KAAM7D,EACN2C,KAAMR,EACNC,QAASA,GAGbe,EAAKC,SAAS,CAAE5B,WAAW,IAE3BsC,IAAIC,SAASH,GACRI,KAAK,kBAAMb,EAAKC,SAAS,CAAE5B,WAAW,MACtCwC,KAAK,kBAAMC,MAAM,oBAEtBd,EAAKC,SAAS,CAAE3B,MAAO,mOAK3BqC,IAAII,kBAAkBC,KAAKZ,kBAE3BY,KAAKf,SAAS,CAAEd,WAAW,aAEE8B,QAAQC,IAAI,CACrCP,IAAIQ,WACJR,IAAIS,gDAFDtE,OAAOoC,OAKd8B,KAAKf,SAAS,CACVd,WAAW,EACXrC,QACAoC,2JAKJyB,IAAIU,oBAAoBL,KAAKZ,mDAGxB,IACGzB,EAA0DqC,KAA1DrC,aAAcG,EAA4CkC,KAA5ClC,aAAcC,EAA8BiC,KAA9BjC,gBAAiBX,EAAa4C,KAAb5C,SADhDkD,EAYDN,KAAKjB,MATLlD,EAHCyE,EAGDzE,aACAmC,EAJCsC,EAIDtC,aACAC,EALCqC,EAKDrC,QACAX,EANCgD,EAMDhD,MACAxB,EAPCwE,EAODxE,MACAoC,EARCoC,EAQDpC,MACAvB,EATC2D,EASD3D,SACAwB,EAVCmC,EAUDnC,UACAd,EAXCiD,EAWDjD,UAGJ,OACIjE,EAAAC,EAAAC,cAACiH,EAAD,CACI5C,aAAcA,EACdG,aAAcA,EACdC,gBAAiBA,EACjBX,SAAUA,EACVvB,aAAcA,EACdmC,aAAcA,EACdC,QAASA,EACTX,MAAOA,EACPxB,MAAOA,EACPoC,MAAOA,EACPvB,SAAUA,EACVU,UAAWA,EACXc,UAAWA,WAnGCqC,6BC0BbC,UA5BE,kBACbrH,EAAAC,EAAAC,cAAAF,EAAAC,EAAA0C,SAAA,KACI3C,EAAAC,EAAAC,cAAA,OAAKH,UAAU,aACXC,EAAAC,EAAAC,cAAA,uCACAF,EAAAC,EAAAC,cAACoH,EAAA,EAAD,CAAiBC,SAAS,aAAaC,KAAK,WAE5CxH,EAAAC,EAAAC,cAACuH,EAAD,OAGJzH,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACoH,EAAA,EAAD,CACIC,SAAS,mCACTC,KAAK,qBAETxH,EAAAC,EAAAC,cAACoH,EAAA,EAAD,CACIC,SAAS,wCACTC,KAAK,2BAIbxH,EAAAC,EAAAC,cAACoH,EAAA,EAAD,CACIC,SAAS,mCACTC,KAAK,qBAETxH,EAAAC,EAAAC,cAACoH,EAAA,EAAD,CAAiBC,SAAS,mBAAmBC,KAAK","file":"static/js/8.1bd0d2f2.chunk.js","sourcesContent":["import React from 'react';\n\nconst Stringify = ({ children, indent, className }) => (\n    <pre className={`stringify ${className || ''}`}>\n        {JSON.stringify(children, null, indent)}\n    </pre>\n);\n\nexport default Stringify;\n","export { default } from './Stringify';\n","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import React from 'react';\nimport classNames from 'classnames';\n\nconst BASE_CLASS = 'form';\n\nconst Form = ({ onUserChange, selectedUser, users, children }) => (\n    <div className={`${BASE_CLASS}-wrapper`}>\n        <form className={BASE_CLASS}>\n            <UserSelect\n                onChange={onUserChange}\n                selectedUser={selectedUser}\n                users={users}\n            />\n\n            {selectedUser && (\n                <>\n                    <label\n                        htmlFor='posts'\n                        className={`${BASE_CLASS}-select-label`}>\n                        Posts\n                    </label>\n                    {children}\n                </>\n            )}\n        </form>\n    </div>\n);\n\nconst UserSelect = ({ onChange, selectedUser, users }) => (\n    <>\n        <label htmlFor='user' className={`${BASE_CLASS}-select-label`}>\n            User\n        </label>\n        <select\n            id='user'\n            className={`${BASE_CLASS}-select`}\n            onChange={onChange}>\n            {!selectedUser && <option>-- SELECT USER --</option>}\n\n            {users.map(({ name, id }) => (\n                <option key={id} value={id}>\n                    {name}\n                </option>\n            ))}\n        </select>\n    </>\n);\n\nconst PostList = ({\n    id,\n    title,\n    body,\n    isOpen,\n    comments,\n    onChange,\n    children,\n}) => (\n    <>\n        <ul className={`${BASE_CLASS}-list`}>\n            <li\n                key={id}\n                className={classNames(\n                    `${BASE_CLASS}-list-item`,\n                    isOpen && 'open'\n                )}>\n                <h2\n                    className={`${BASE_CLASS}-list-item-header`}\n                    onClick={() => onChange({ target: { value: id } })}>\n                    {title}\n                </h2>\n\n                <legend>Comments: {comments.length}</legend>\n\n                <section className={`${BASE_CLASS}-list-item-body`}>\n                    {body}\n                </section>\n\n                {comments.map(({ id, email, body }) => (\n                    <section\n                        key={id}\n                        className={`${BASE_CLASS}-list-item-comment`}>\n                        {email}: {body}}\n                    </section>\n                ))}\n            </li>\n        </ul>\n        {children}\n    </>\n);\n\nconst CommentInput = ({ onSubmit, isOpen, onChange, isSending, error }) => (\n    <section\n        className={classNames(\n            `${BASE_CLASS}-comment-input-wrapper`,\n            isOpen && 'open'\n        )}>\n        <input\n            type='text'\n            className={`${BASE_CLASS}-comment-input`}\n            invalid={error ? 'true' : 'false'}\n            onChange={onChange}\n        />\n        {error}\n        <button\n            type='submit'\n            onClick={onSubmit}\n            disabled={isSending}\n            className={`${BASE_CLASS}-btn--submit`}>\n            {isSending ? 'Sending...' : 'Submit'}\n        </button>\n    </section>\n);\n\nexport default Form;\nexport { PostList, CommentInput };\n","import React from 'react';\n\nimport Stringify from 'components/Stringify';\nimport Form, { PostList, CommentInput } from './Form';\n\nconst FormPresentational = ({\n    onUserChange,\n    onPostChange,\n    onCommentChange,\n    onSubmit,\n    selectedUser,\n    selectedPost,\n    comment,\n    error,\n    users,\n    posts,\n    comments,\n    isLoading,\n    isSending,\n}) => {\n    if (isLoading) {\n        return <div className='form--loading'>Loading...</div>;\n    }\n\n    return (\n        <>\n            <Form\n                onUserChange={onUserChange}\n                selectedUser={selectedUser}\n                users={users}>\n                {posts\n                    .filter(({ userId }) => userId.toString() === selectedUser)\n                    .map(post => (\n                        <PostList\n                            {...post}\n                            key={post.id}\n                            isOpen={post.id === selectedPost}\n                            onChange={onPostChange}\n                            comments={comments.filter(\n                                ({ postId }) => postId === post.id\n                            )}>\n                            <CommentInput\n                                onSubmit={onSubmit}\n                                error={error}\n                                onChange={onCommentChange}\n                                isOpen={post.id === selectedPost}\n                                isSending={isSending}\n                            />\n                        </PostList>\n                    ))}\n            </Form>\n\n            <Stringify indent={2}>\n                {{\n                    selectedUser,\n                    selectedPost,\n                    comment,\n                    error,\n                    users: `Array[${users.length}]`,\n                    posts: `Array[${posts.length}]`,\n                    comments: `Array[${comments.length}]`,\n                    isLoading,\n                    isSending,\n                }}\n            </Stringify>\n        </>\n    );\n};\n\nexport default FormPresentational;\n","import React, { Component } from 'react';\n\nimport FormPresentational from './FormPresentational';\nimport Api from 'api';\n\nconst resetCommentAndError = { comment: null, error: null };\n\nclass FormContainer extends Component {\n    state = {\n        selectedUser: null,\n        selectedPost: null,\n        comment: null,\n        error: null,\n        users: [],\n        posts: [],\n        comments: [],\n        isLoading: false,\n        isSending: false,\n    };\n\n    onUserChange = ({ target: { value } }) =>\n        this.setState({ selectedUser: value, ...resetCommentAndError });\n\n    onPostChange = ({ target: { value } }) =>\n        this.setState(prev => ({\n            selectedPost: value === prev.selectedPost ? null : value,\n            ...resetCommentAndError,\n        }));\n\n    onCommentsUpdate = comment =>\n        this.setState(({ comments }) => ({ comments: [...comments, comment] }));\n\n    onCommentChange = ({ target: { value } }) =>\n        this.setState({ comment: value, error: null });\n\n    onSubmit = e => {\n        e.preventDefault();\n\n        const { selectedUser, selectedPost, comment } = this.state;\n\n        if (comment) {\n            const formDdata = {\n                user: selectedUser,\n                post: selectedPost,\n                comment: comment,\n            };\n\n            this.setState({ isSending: true });\n\n            Api.postForm(formDdata)\n                .then(() => this.setState({ isSending: false }))\n                .then(() => alert('Form sent'));\n        } else {\n            this.setState({ error: 'Comment missing' });\n        }\n    };\n\n    async componentDidMount() {\n        Api.subscribeComments(this.onCommentsUpdate);\n\n        this.setState({ isLoading: true });\n\n        const [users, posts] = await Promise.all([\n            Api.getUsers(),\n            Api.getPosts(),\n        ]);\n\n        this.setState({\n            isLoading: false,\n            users,\n            posts,\n        });\n    }\n\n    componentWillUnmount() {\n        Api.unsubscribeComments(this.onCommentsUpdate);\n    }\n\n    render() {\n        const { onUserChange, onPostChange, onCommentChange, onSubmit } = this;\n        const {\n            selectedUser,\n            selectedPost,\n            comment,\n            error,\n            users,\n            posts,\n            comments,\n            isLoading,\n            isSending,\n        } = this.state;\n\n        return (\n            <FormPresentational\n                onUserChange={onUserChange}\n                onPostChange={onPostChange}\n                onCommentChange={onCommentChange}\n                onSubmit={onSubmit}\n                selectedUser={selectedUser}\n                selectedPost={selectedPost}\n                comment={comment}\n                error={error}\n                users={users}\n                posts={posts}\n                comments={comments}\n                isSending={isSending}\n                isLoading={isLoading}\n            />\n        );\n    }\n}\n\nexport default FormContainer;\n","import React from 'react';\n\nimport { FormContainer } from 'components/Form';\nimport { CodeBlockButton } from 'components/CodeBlock';\n\nconst FormView = () => (\n    <>\n        <div className='form-view'>\n            <h1>Isolated state management</h1>\n            <CodeBlockButton fileName='api/Api.js' text='Api.js' />\n\n            <FormContainer />\n        </div>\n\n        <div>\n            <CodeBlockButton\n                fileName='components/Form/FormContainer.js'\n                text='FormContainer.js'\n            />\n            <CodeBlockButton\n                fileName='components/Form/FormPresentational.js'\n                text='FormPresentational.js'\n            />\n        </div>\n\n        <CodeBlockButton\n            fileName='components/Form/FormWithHooks.js'\n            text='FormWithHooks.js'\n        />\n        <CodeBlockButton fileName='hooks/useForm.js' text='useForm.js' />\n    </>\n);\n\nexport default FormView;\n"],"sourceRoot":""}